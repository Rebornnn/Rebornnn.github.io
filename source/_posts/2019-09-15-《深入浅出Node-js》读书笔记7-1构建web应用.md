---
title: 《深入浅出Node.js》读书笔记7-1构建web应用
date: 2019-09-15 15:36:20
categories:
- 读书笔记
- 《深入浅出node.js》
tags:
- node
- 系统学习
description: Web应用
---
## 基础功能
本章内容将从http模块中服务器端的request事件开始分析。request事件发生于网络连接建立，客户端向服务器端发送报文，服务器端解析报文，发现HTTP请求端报头时。在已触发request事件前，它已准备好ServerRequest和ServerReponse对象以供对请求和响应报文对操作。

### 请求方法
HTTP_Parser在解析请求报文的时候，将请求行的请求方法设置为`req.method`。在RESTful类Web服务中请求方法十分重要。
- PUT，新建一个资源
- POST，更新一个资源
- GET，查看一个资源
- DELETE，删除一个资源

### 路径解析
HTTP_Parser在解析请求报文的时候，将请求行的第二部分设置为`req.url`。    
完整的URL地址是这样：
```
http://user:pass@host.com:8080/p/a/t/h?query=string#hash
```
我们可以根据路径查找磁盘中的文件，或者选择控制器。

### 查询字符串
使用`url.parse()`并传递第二个参数，可以将查询字符串解析为一个JSON对象。 

### Cookie
#### 1. 初识Cookie
Cookie是一个由浏览器和服务器共同协作实现的，Cookie的处理分为如下几步：
- 服务器向客户端发送Cookie
- 浏览器将Cookie保存
- 之后每次浏览器都会将Cookie发向服务器端。  

HTTP_parse会将cookie解析到req.headers.cookie。