---
title: 《深入浅出node.js》读书笔记2-1异步I/O
date: 2019-07-20 00:01:56
categories:
- 读书笔记
- 《深入浅出node.js》
tags:
- node
- 系统学习
description: I/O操作
---
![](http://img.aisss.top/Fsjqd1KdO_IozBEa08X8LTTorf6w)

## 系统的异步I/O实现现状
### 异步I/O与非阻塞I/O
从计算机内核I/O而言，异步/同步和阻塞/非阻塞实际上是两回事。   
操作系统内核对于I/O只有两种方式：
- 阻塞。调用阻塞I/O时，应用程序需要等待I/O完成才返回。
- 非阻塞。调用阻塞I/O时，会立即返回。   


非阻塞需要通过轮询去确认是否完全完成数据获取。  
理想的非阻塞异步I/O = 非阻塞 + 异步 ：应用程序发起非阻塞调用，无须通过遍历或者事件唤醒等方式轮询，可以直接处理下一个任务，只需在I/O完成后通过信号或回调将数据传递给应用程序。

## Node的异步I/O
### 事件循环
Node进程启动时，Node便会创建一个类似while(true)的循环，每执行一次循环体的过程我们称为Tick。每个Tick的过程就是查看是否有事件待处理，如果有，就取出事件及其相关的回调函数。如果存在关联的回调函数，就执行他们。然后进入下一个循环，如果不再有事件处理，就退出进程。流程图如下：
![](http://img.aisss.top/Fu5K7fS6xdAWUZiiZhTW2_ZfRpgR)

### 观察者
